<?php return array (
  'ae3336f2839073e5c351cd33c27671bd' => 
  array (
    'criteria' => 
    array (
      'name' => 'msoptionsprice',
    ),
    'object' => 
    array (
      'name' => 'msoptionsprice',
      'path' => '{core_path}components/msoptionsprice/',
      'assets_path' => '',
    ),
  ),
  '6eb4de349822c2ebbd28d0369b7fbf64' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_working_templates',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_working_templates',
      'value' => '6',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => '2019-10-01 00:02:44',
    ),
  ),
  '47b8b0eaf8cfae8e821f58bbbcc1aaa2' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_allow_zero_cost',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_allow_zero_cost',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '38ee102a6dd422b8e2129e2d72331cd8' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_allow_zero_old_cost',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_allow_zero_old_cost',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '34f097c55fa885ae60dc1c2448ee40be' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_allow_zero_mass',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_allow_zero_mass',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'a8eda123214c85816b4789263b17376a' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_allow_zero_article',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_allow_zero_article',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'f7d0b2fc6e572d627e2782f6ec8d9208' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_allow_zero_count',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_allow_zero_count',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '21ebbe92c243df69a43e795f80236bb3' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_allow_zero_modification',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_allow_zero_modification',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '13467a0ba7090d9f6802b857608bb963' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_allow_remains',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_allow_remains',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '3febff98c6a86f82ee953262e865236f' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_status_pickup_remains',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_status_pickup_remains',
      'value' => '1',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '187d5b6b1a9e212bbcae48c8ff6809ce' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_status_return_remains',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_status_return_remains',
      'value' => '4',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '63d4e1320c72984048878add6b9332ff' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_modification_thumbs',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_modification_thumbs',
      'value' => 'small',
      'xtype' => 'textarea',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'c369ccd37f72c666d3eb981856c23b79' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_modification_gallery_class',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_modification_gallery_class',
      'value' => 'msProductFile',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'dbe1337a2009f3ebfacafc7c89fb9ee8' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_exclude_modification_options',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_exclude_modification_options',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '70de656cdeee51703f809bfa50196614' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_include_modification_options',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_include_modification_options',
      'value' => 'size, color',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => '2019-10-16 16:42:38',
    ),
  ),
  '98398f660b4cfacb620b77c0e8a529a1' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_sort_modification_option_values',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_sort_modification_option_values',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'd96a6291b0c39bacf564ccb8e2f87eca' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_search_modification_strict',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_search_modification_strict',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '7746ff06ef17b024a6ec31fd2115a2c1' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_search_modification_by_image_strict',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_search_modification_by_image_strict',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'd6118128be0414e445805cdb198e33f4' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_create_modification_with_duplicate',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_create_modification_with_duplicate',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '51c530098313776281da69464e8a5e43' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_number_format',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_number_format',
      'value' => '[2,1]',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'ca48cd1e1ac0654c11b72775ad4b6edb' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_frontendCss',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_frontendCss',
      'value' => '[[+assetsUrl]]css/web/default.css',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  'b1a8cdd8f2b35eb5dda7dfe7b09c32ef' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_frontendJs',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_frontendJs',
      'value' => '[[+assetsUrl]]js/web/default.js',
      'xtype' => 'textfield',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '42f02c4908c6485e10a2ba573b3430fd' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_window_modification_tabs',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_window_modification_tabs',
      'value' => 'modification',
      'xtype' => 'textarea',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '2c3ca6bc890d29da341822d4239b0a5c' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_grid_modification_fields',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_grid_modification_fields',
      'value' => 'id,type,price,old_price,article,weight,count,image',
      'xtype' => 'textarea',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '63573e3e4b89affb0b8b2806c92efab9' => 
  array (
    'criteria' => 
    array (
      'key' => 'msoptionsprice_window_modification_fields',
    ),
    'object' => 
    array (
      'key' => 'msoptionsprice_window_modification_fields',
      'value' => 'name,price,old_price,image,article,weight,count',
      'xtype' => 'textarea',
      'namespace' => 'msoptionsprice',
      'area' => 'msoptionsprice_main',
      'editedon' => NULL,
    ),
  ),
  '222bebef72c8a9d9f949e11bab1d6769' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnBeforeGetModification',
    ),
    'object' => 
    array (
      'name' => 'msopOnBeforeGetModification',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  '7b9977dba34110021bf0192cd4281ea1' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnAfterGetModification',
    ),
    'object' => 
    array (
      'name' => 'msopOnAfterGetModification',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'dd7f070547b1267760ab12af909f448e' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnBeforeGetCost',
    ),
    'object' => 
    array (
      'name' => 'msopOnBeforeGetCost',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  '53ecdc9258dfc24838746dca3cb19b18' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnAfterGetCost',
    ),
    'object' => 
    array (
      'name' => 'msopOnAfterGetCost',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'b3ee7967973a76ed3025c7bd6d35aa37' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnBeforeGetMass',
    ),
    'object' => 
    array (
      'name' => 'msopOnBeforeGetMass',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  '5cde73b1f3385f51186a7af9e8541668' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnAfterGetMass',
    ),
    'object' => 
    array (
      'name' => 'msopOnAfterGetMass',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'af145ece01e9fb9716e03f8f234a7f01' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnGetFullCost',
    ),
    'object' => 
    array (
      'name' => 'msopOnGetFullCost',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'aaf249e4d2ec426e4317edb5b25ff526' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnGetFullMass',
    ),
    'object' => 
    array (
      'name' => 'msopOnGetFullMass',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'f0047aa4981787587d813e257c7d915e' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnGetModificationById',
    ),
    'object' => 
    array (
      'name' => 'msopOnGetModificationById',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'ee9a5b033f4236c0fd3709af160e513d' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnModificationNotFound',
    ),
    'object' => 
    array (
      'name' => 'msopOnModificationNotFound',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  '5b1c8100e21f39bf2b0458a7f06d9ad0' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnModificationBeforeSave',
    ),
    'object' => 
    array (
      'name' => 'msopOnModificationBeforeSave',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'cfcf737b560c8df96c203ce1ae87ab24' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnModificationSave',
    ),
    'object' => 
    array (
      'name' => 'msopOnModificationSave',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  '143d43348df871299ee8b5f93520f846' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnModificationBeforeRemove',
    ),
    'object' => 
    array (
      'name' => 'msopOnModificationBeforeRemove',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  'd46fca653b49c2e7c52f2a94d1bdfe6a' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnModificationRemove',
    ),
    'object' => 
    array (
      'name' => 'msopOnModificationRemove',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  '4e0b55460cbd30d6086e88272141501c' => 
  array (
    'criteria' => 
    array (
      'name' => 'msopOnManagerPrepareObjectData',
    ),
    'object' => 
    array (
      'name' => 'msopOnManagerPrepareObjectData',
      'service' => 6,
      'groupname' => 'msOptionsPrice2',
    ),
  ),
  '93e32dc65134b8a5a2fff444bd294e62' => 
  array (
    'criteria' => 
    array (
      'category' => 'msOptionsPrice2',
    ),
    'object' => 
    array (
      'id' => 6,
      'parent' => 0,
      'category' => 'msOptionsPrice2',
      'rank' => 0,
    ),
  ),
  '7ed04aac6580cb44f2136d877c2fa001' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.msOptionsPrice.modification',
    ),
    'object' => 
    array (
      'id' => 18,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.msOptionsPrice.modification',
      'description' => '',
      'editor_type' => 0,
      'category' => 6,
      'cache_type' => 0,
      'snippet' => '<div class="row ms2_product">
	<div class="col-md-8">
		<form method="post" class="ms2_form">
			<a href="{$rid | url}">{$product_pagetitle}</a>

			{if $_pls[\'small\']?}
				<img src="{$_pls[\'small\']}" alt="{$product_pagetitle}" title="{$product_pagetitle}"/>
			{else}
				<img src="{\'assets_url\' | option}components/minishop2/img/web/ms2_small.png"
					 srcset="{\'assets_url\' | option}components/minishop2/img/web/ms2_small@2x.png 2x"
					 alt="{$product_pagetitle}" title="{$product_pagetitle}"/>
			{/if}

            <span class="flags">
                {if $data_new?}
					<i class="glyphicon glyphicon-flag" title="{\'ms2_frontend_new\' | lexicon}"></i>
				{/if}
				{if $data_popular?}
					<i class="glyphicon glyphicon-star" title="{\'ms2_frontend_popular\' | lexicon}"></i>
				{/if}
				{if $data_favorite?}
					<i class="glyphicon glyphicon-bookmark" title="{\'ms2_frontend_favorite\' | lexicon}"></i>
				{/if}
            </span>

			<span class="options">
				{if $options?}
					<span class="small">
						{$options | join : \'; \'}
					</span>
				{/if}
			</span>

            <span class="price">
                {$price} {\'ms2_frontend_currency\' | lexicon}
            </span>
			{if $old_price?}
				<span class="old_price">{$old_price} {\'ms2_frontend_currency\' | lexicon}</span>
			{/if}
			{if $article?}
				<span class="article">{\'ms2_product_article\' | lexicon}: {$article}</span>
			{/if}
			{if $weight?}
				<span class="weight">{\'ms2_product_weight\' | lexicon}
					: {$weight} {\'ms2_frontend_weight_unit\' | lexicon}</span>
			{/if}

			<input type="hidden" name="id" value="{$rid}">
			<input type="hidden" name="count" value="1">
			<input type="hidden" name="options" value="[]">
			{foreach $options as $name => $value}
				<input type="hidden" name="options[{$name}]" value="{$value}">
			{/foreach}

			<button class="btn btn-default btn-sm pull-right" type="submit" name="ms2_action" value="cart/add">
				<i class="glyphicon glyphicon-barcode"></i> {\'ms2_frontend_add_to_cart\' | lexicon}
			</button>

		</form>
	</div>
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msoptionsprice/elements/chunks/chunk.modification.tpl',
      'content' => '<div class="row ms2_product">
	<div class="col-md-8">
		<form method="post" class="ms2_form">
			<a href="{$rid | url}">{$product_pagetitle}</a>

			{if $_pls[\'small\']?}
				<img src="{$_pls[\'small\']}" alt="{$product_pagetitle}" title="{$product_pagetitle}"/>
			{else}
				<img src="{\'assets_url\' | option}components/minishop2/img/web/ms2_small.png"
					 srcset="{\'assets_url\' | option}components/minishop2/img/web/ms2_small@2x.png 2x"
					 alt="{$product_pagetitle}" title="{$product_pagetitle}"/>
			{/if}

            <span class="flags">
                {if $data_new?}
					<i class="glyphicon glyphicon-flag" title="{\'ms2_frontend_new\' | lexicon}"></i>
				{/if}
				{if $data_popular?}
					<i class="glyphicon glyphicon-star" title="{\'ms2_frontend_popular\' | lexicon}"></i>
				{/if}
				{if $data_favorite?}
					<i class="glyphicon glyphicon-bookmark" title="{\'ms2_frontend_favorite\' | lexicon}"></i>
				{/if}
            </span>

			<span class="options">
				{if $options?}
					<span class="small">
						{$options | join : \'; \'}
					</span>
				{/if}
			</span>

            <span class="price">
                {$price} {\'ms2_frontend_currency\' | lexicon}
            </span>
			{if $old_price?}
				<span class="old_price">{$old_price} {\'ms2_frontend_currency\' | lexicon}</span>
			{/if}
			{if $article?}
				<span class="article">{\'ms2_product_article\' | lexicon}: {$article}</span>
			{/if}
			{if $weight?}
				<span class="weight">{\'ms2_product_weight\' | lexicon}
					: {$weight} {\'ms2_frontend_weight_unit\' | lexicon}</span>
			{/if}

			<input type="hidden" name="id" value="{$rid}">
			<input type="hidden" name="count" value="1">
			<input type="hidden" name="options" value="[]">
			{foreach $options as $name => $value}
				<input type="hidden" name="options[{$name}]" value="{$value}">
			{/foreach}

			<button class="btn btn-default btn-sm pull-right" type="submit" name="ms2_action" value="cart/add">
				<i class="glyphicon glyphicon-barcode"></i> {\'ms2_frontend_add_to_cart\' | lexicon}
			</button>

		</form>
	</div>
</div>',
    ),
  ),
  'ef69ca77989607bec0026a102165fb9b' => 
  array (
    'criteria' => 
    array (
      'name' => 'msOptionsPrice.initialize',
    ),
    'object' => 
    array (
      'id' => 42,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'msOptionsPrice.initialize',
      'description' => '',
      'editor_type' => 0,
      'category' => 6,
      'cache_type' => 0,
      'snippet' => '/** @var array $scriptProperties */
$corePath = $modx->getOption(\'msoptionsprice_core_path\', null,
    $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/msoptionsprice/\');
/** @var msoptionsprice $msoptionsprice */
$msoptionsprice = $modx->getService(\'msoptionsprice\', \'msoptionsprice\', $corePath . \'model/msoptionsprice/\',
    array(\'core_path\' => $corePath));
if (!$msoptionsprice) {
    return \'Could not load msoptionsprice class!\';
}
$msoptionsprice->initialize($modx->context->key, $scriptProperties);
$msoptionsprice->loadResourceJsCss($scriptProperties);

/** @var miniShop2 $miniShop2 */
$miniShop2 = $modx->getService(\'miniShop2\');
$miniShop2->initialize($modx->context->key);

$processCart = $scriptProperties[\'processCart\'] = (bool)$modx->getOption(\'processCart\', $scriptProperties);

if ($processCart AND $msoptionsprice->getOption(\'allow_remains\')) {
    $items = $miniShop2->cart->get();

    foreach ($items as $key => $item) {
        $count = $modx->getOption(\'count\', $item, 0, true);
        $options = $modx->getOption(\'options\', $item, array(), true);
        $mid = (int)$modx->getOption(\'modification\', $options);
        if (empty($mid)) {
            continue;
        }
        $mo = $modx->getObject(\'msopModification\', array(\'id\' => $mid));
        if (!$mo) {
            continue;
        }

        $mCount = $mo->get(\'count\');
        if ($count < $mCount) {
            continue;
        } else {
            $count = $mCount;
        }

        if ($count < 1) {
            $miniShop2->cart->remove($key);
        } else {
            $miniShop2->cart->change($key, $count);
        }
    }
}',
      'locked' => 0,
      'properties' => 'a:4:{s:11:"frontendCss";a:7:{s:4:"name";s:11:"frontendCss";s:4:"desc";s:31:"msoptionsprice_prop_frontendCss";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:10:"frontendJs";a:7:{s:4:"name";s:10:"frontendJs";s:4:"desc";s:30:"msoptionsprice_prop_frontendJs";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:11:"processCart";a:7:{s:4:"name";s:11:"processCart";s:4:"desc";s:31:"msoptionsprice_prop_processCart";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:9:"actionUrl";a:7:{s:4:"name";s:9:"actionUrl";s:4:"desc";s:29:"msoptionsprice_prop_actionUrl";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:24:"[[+assetsUrl]]action.php";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msoptionsprice/elements/snippets/snippet.initialize.php',
      'content' => '/** @var array $scriptProperties */
$corePath = $modx->getOption(\'msoptionsprice_core_path\', null,
    $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/msoptionsprice/\');
/** @var msoptionsprice $msoptionsprice */
$msoptionsprice = $modx->getService(\'msoptionsprice\', \'msoptionsprice\', $corePath . \'model/msoptionsprice/\',
    array(\'core_path\' => $corePath));
if (!$msoptionsprice) {
    return \'Could not load msoptionsprice class!\';
}
$msoptionsprice->initialize($modx->context->key, $scriptProperties);
$msoptionsprice->loadResourceJsCss($scriptProperties);

/** @var miniShop2 $miniShop2 */
$miniShop2 = $modx->getService(\'miniShop2\');
$miniShop2->initialize($modx->context->key);

$processCart = $scriptProperties[\'processCart\'] = (bool)$modx->getOption(\'processCart\', $scriptProperties);

if ($processCart AND $msoptionsprice->getOption(\'allow_remains\')) {
    $items = $miniShop2->cart->get();

    foreach ($items as $key => $item) {
        $count = $modx->getOption(\'count\', $item, 0, true);
        $options = $modx->getOption(\'options\', $item, array(), true);
        $mid = (int)$modx->getOption(\'modification\', $options);
        if (empty($mid)) {
            continue;
        }
        $mo = $modx->getObject(\'msopModification\', array(\'id\' => $mid));
        if (!$mo) {
            continue;
        }

        $mCount = $mo->get(\'count\');
        if ($count < $mCount) {
            continue;
        } else {
            $count = $mCount;
        }

        if ($count < 1) {
            $miniShop2->cart->remove($key);
        } else {
            $miniShop2->cart->change($key, $count);
        }
    }
}',
    ),
  ),
  '9cfd5f4c44bb45758ea2c38d4cc0f815' => 
  array (
    'criteria' => 
    array (
      'name' => 'msOptionsPrice.modification',
    ),
    'object' => 
    array (
      'id' => 43,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'msOptionsPrice.modification',
      'description' => '',
      'editor_type' => 0,
      'category' => 6,
      'cache_type' => 0,
      'snippet' => '/** @var array $scriptProperties */
$corePath = $modx->getOption(\'msoptionsprice_core_path\', null,
    $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/msoptionsprice/\');
/** @var msoptionsprice $msoptionsprice */
$msoptionsprice = $modx->getService(\'msoptionsprice\', \'msoptionsprice\', $corePath . \'model/msoptionsprice/\',
    array(\'core_path\' => $corePath));
if (!$msoptionsprice) {
    return \'Could not load msoptionsprice class!\';
}
/** @var pdoFetch $pdoFetch */

$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->setConfig($scriptProperties);
$pdoFetch->addTime(\'pdoTools loaded.\');

$tpl = $scriptProperties[\'tpl\'] = $modx->getOption(\'tpl\', $scriptProperties, \'tpl.msOptionsPrice.modification\', true);
$product = $scriptProperties[\'product\'] = $modx->getOption(\'product\', $scriptProperties, $modx->resource->id, true);
$type = $scriptProperties[\'type\'] = $modx->getOption(\'type\', $scriptProperties, 1, true);
$limit = $scriptProperties[\'limit\'] = $modx->getOption(\'limit\', $scriptProperties, 10, true);
$class = $scriptProperties[\'class\'] = $modx->getOption(\'class\', $scriptProperties, \'msopModification\', true);

$oid = $scriptProperties[\'oid\'] = $modx->getOption(\'oid\', $scriptProperties);
$byOptions = $scriptProperties[\'byOptions\'] = $modx->getOption(\'byOptions\', $scriptProperties, \'{}\', true);
$strict = $scriptProperties[\'strict\'] = (bool)$modx->getOption(\'strict\', $scriptProperties,
    $msoptionsprice->getOption(\'search_modification_strict\', null, false, true), true);
$excludeType = $scriptProperties[\'excludeType\'] = $modx->getOption(\'excludeType\', $scriptProperties, \'0\', true);
$processOptions = $scriptProperties[\'processOptions\'] = (bool)$modx->getOption(\'processOptions\', $scriptProperties, 0,
    true);

$outputSeparator = $scriptProperties[\'outputSeparator\'] = $modx->getOption(\'outputSeparator\', $scriptProperties, "\\n",
    true);

$classGallery = trim($msoptionsprice->getOption(\'modification_gallery_class\', null,
    \'msProductFile\', true));

// Add user parameters
foreach (array(\'byOptions\') as $k) {
    if (!empty($scriptProperties[$k])) {
        $tmp = $scriptProperties[$k];
        if (!is_array($tmp)) {
            $tmp = json_decode($tmp, true);
        }
        ${$k} = $scriptProperties[$k] = $tmp;
    }
}

$msoptionsprice->initialize($modx->context->key, $scriptProperties);

/** @var msProduct $product */
$product = $modx->getObject(\'msProduct\', $product);
if (!$product OR !($product instanceof msProduct)) {
    return "[msOptionsPrice] The resource with id = {$product->id} is not instance of msProduct.";
}
$price = $product->get(\'price\');
$oldPrice = $product->get(\'old_price\');

$type = $msoptionsprice->explodeAndClean($type);
$excludeType = array_merge(array(0), $msoptionsprice->explodeAndClean($excludeType));

$where = array(
    "{$class}.rid"     => $product->id,
    "{$class}.type:IN" => $type,
    "{$class}.active"  => true,
);
if (empty($showZeroPrice)) {
    $where["{$class}.price:>"] = 0;
}

$groupby = array(
    "{$class}.id",
);
$leftJoin = array(
    "msProduct"     => array(
        "class" => "msProduct",
        "on"    => "msProduct.id = {$class}.rid",
    ),
    "msProductData" => array(
        "class" => "msProductData",
        "on"    => "msProductData.id = {$class}.rid",
    ),
    "msVendor"      => array(
        "class" => "msVendor",
        "on"    => "msProductData.vendor = msVendor.id",
    ),
    "Option"        => array(
        "class" => "msopModificationOption",
        "on"    => "Option.mid = {$class}.id",
    ),
);
$innerJoin = array();
$select = array(
    $class          => $modx->getSelectColumns($class, $class),
    \'msProduct\'     => $modx->getSelectColumns(\'msProduct\', \'msProduct\', \'product_\'),
    \'msProductData\' => $modx->getSelectColumns(\'msProductData\', \'msProductData\', \'data_\'),
    \'msVendor\'      => $modx->getSelectColumns(\'msVendor\', \'msVendor\', \'vendor_\'),
);


/* TODO */
// Include thumbnails
if (!empty($includeThumbs)) {
    $thumbs = $msoptionsprice->explodeAndClean($includeThumbs);
}

foreach (array(\'where\', \'leftJoin\', \'innerJoin\', \'select\', \'groupby\') as $v) {
    if (!empty($scriptProperties[$v])) {
        $tmp = $scriptProperties[$v];
        if (!is_array($tmp)) {
            $tmp = json_decode($tmp, true);
        }
        if (is_array($tmp)) {
            $$v = array_merge($$v, $tmp);
        }
    }
    unset($scriptProperties[$v]);
}
$pdoFetch->addTime(\'Conditions prepared\');

if (!empty($byOptions)) {
    $oid = 0;
    if ($modification = $msoptionsprice->getModificationByOptions(
        $product->id,
        $byOptions,
        $strict,
        array(0),
        array_diff($excludeType, $type)
    )
    ) {
        $oid = $modification[\'id\'];
    }
}

if (!is_null($oid)) {
    $where["{$class}.id"] = (int)$oid;
}

$default = array(
    \'class\'             => $class,
    \'where\'             => $where,
    \'leftJoin\'          => $leftJoin,
    \'innerJoin\'         => $innerJoin,
    \'select\'            => $select,
    \'sortby\'            => "CAST({$class}.price AS DECIMAL(10,2))",
    \'sortdir\'           => \'ASC\',
    \'groupby\'           => implode(\', \', $groupby),
    \'return\'            => !empty($returnIds) ? \'ids\' : \'data\',
    \'nestedChunkPrefix\' => \'minishop2_\',
);

// Merge all properties and run!
$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);
$rows = $pdoFetch->run();

// Process rows
$output = array();
if (!empty($rows) AND is_array($rows)) {
    $idx = $pdoFetch->idx;
    foreach ($rows as $k => $row) {
        /** @var msopModification $m */
        if (!$m = $modx->getObject(\'msopModification\', (int)$row[\'id\'])) {
            continue;
        }
        $row[\'idx\'] = $idx++;

        $options = $modx->call(\'msopModificationOption\', \'getOptions\',
            array(&$modx, $row[\'id\'], $row[\'rid\'], null, $processOptions));
        $row = array_merge($row, array(\'options\' => $options));

        $row[\'modification\'] = $row;
        $row[\'price\'] = $msoptionsprice->getCostByType($row[\'type\'], $row[\'price\'], $price);
        $row[\'old_price\'] = $msoptionsprice->getOldCostByModification($row[\'modification\']);

        $row[\'price\'] = $msoptionsprice->miniShop2->formatPrice($row[\'price\']);
        $row[\'old_price\'] = $msoptionsprice->miniShop2->formatPrice($row[\'old_price\']);
        $row[\'weight\'] = $msoptionsprice->miniShop2->formatWeight($row[\'weight\']);

        // process modification thumbs
        $row[\'thumbs\'] = null;
        if (!empty($thumbs)) {
            $images = $m->loadThumbs($thumbs);
            if (empty($images)) {
                $images = $m->loadThumb($thumbs);
            }
            foreach ($thumbs as $thumb) {
                if (!empty($images[$thumb][0])) {
                    $row[$thumb] = $images[$thumb][0];
                }
            }
            $row[\'thumbs\'] = $images;
        }

        $output[] = $pdoFetch->getChunk($tpl, $row);
        $rows[$k] = $row;
    }

}

if ($scriptProperties[\'return\'] == \'data\') {
    return $rows;
}

$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') AND !empty($showLog)) {
    $log .= \'<pre class="msOptionsPriceLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}
// Return output
if (!empty($returnIds) AND is_string($rows)) {
    $modx->setPlaceholder(\'msOptionsPrice.log\', $log);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $rows);
    } else {
        return $rows;
    }
} else {
    $output = implode($outputSeparator, $output) . $log;
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
}',
      'locked' => 0,
      'properties' => 'a:14:{s:7:"product";a:7:{s:4:"name";s:7:"product";s:4:"desc";s:27:"msoptionsprice_prop_product";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:3:"tpl";a:7:{s:4:"name";s:3:"tpl";s:4:"desc";s:23:"msoptionsprice_prop_tpl";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:31:"tpl.msOptionsPrice.modification";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:4:"type";a:7:{s:4:"name";s:4:"type";s:4:"desc";s:24:"msoptionsprice_prop_type";s:4:"type";s:4:"list";s:7:"options";a:3:{i:0;a:2:{s:4:"text";s:1:"=";s:5:"value";s:1:"1";}i:1;a:2:{s:4:"text";s:1:"+";s:5:"value";s:1:"2";}i:2;a:2:{s:4:"text";s:1:"-";s:5:"value";s:1:"3";}}s:5:"value";s:1:"1";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:5:"limit";a:7:{s:4:"name";s:5:"limit";s:4:"desc";s:25:"msoptionsprice_prop_limit";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:10;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:6:"sortby";a:7:{s:4:"name";s:6:"sortby";s:4:"desc";s:26:"msoptionsprice_prop_sortby";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:60:"{"CAST(`msopModification`.`price` AS DECIMAL(10,2))": "ASC"}";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:7:"sortdir";a:7:{s:4:"name";s:7:"sortdir";s:4:"desc";s:27:"msoptionsprice_prop_sortdir";s:4:"type";s:4:"list";s:7:"options";a:2:{i:0;a:2:{s:4:"text";s:3:"ASC";s:5:"value";s:3:"ASC";}i:1;a:2:{s:4:"text";s:4:"DESC";s:5:"value";s:4:"DESC";}}s:5:"value";s:3:"ASC";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:5:"where";a:7:{s:4:"name";s:5:"where";s:4:"desc";s:25:"msoptionsprice_prop_where";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:13:"includeThumbs";a:7:{s:4:"name";s:13:"includeThumbs";s:4:"desc";s:33:"msoptionsprice_prop_includeThumbs";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:13:"showZeroPrice";a:7:{s:4:"name";s:13:"showZeroPrice";s:4:"desc";s:33:"msoptionsprice_prop_showZeroPrice";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:14:"processOptions";a:7:{s:4:"name";s:14:"processOptions";s:4:"desc";s:34:"msoptionsprice_prop_processOptions";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:9:"returnIds";a:7:{s:4:"name";s:9:"returnIds";s:4:"desc";s:29:"msoptionsprice_prop_returnIds";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:15:"outputSeparator";a:7:{s:4:"name";s:15:"outputSeparator";s:4:"desc";s:35:"msoptionsprice_prop_outputSeparator";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:1:"
";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:13:"toPlaceholder";a:7:{s:4:"name";s:13:"toPlaceholder";s:4:"desc";s:33:"msoptionsprice_prop_toPlaceholder";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:7:"showLog";a:7:{s:4:"name";s:7:"showLog";s:4:"desc";s:27:"msoptionsprice_prop_showLog";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msoptionsprice/elements/snippets/snippet.modification.php',
      'content' => '/** @var array $scriptProperties */
$corePath = $modx->getOption(\'msoptionsprice_core_path\', null,
    $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/msoptionsprice/\');
/** @var msoptionsprice $msoptionsprice */
$msoptionsprice = $modx->getService(\'msoptionsprice\', \'msoptionsprice\', $corePath . \'model/msoptionsprice/\',
    array(\'core_path\' => $corePath));
if (!$msoptionsprice) {
    return \'Could not load msoptionsprice class!\';
}
/** @var pdoFetch $pdoFetch */

$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->setConfig($scriptProperties);
$pdoFetch->addTime(\'pdoTools loaded.\');

$tpl = $scriptProperties[\'tpl\'] = $modx->getOption(\'tpl\', $scriptProperties, \'tpl.msOptionsPrice.modification\', true);
$product = $scriptProperties[\'product\'] = $modx->getOption(\'product\', $scriptProperties, $modx->resource->id, true);
$type = $scriptProperties[\'type\'] = $modx->getOption(\'type\', $scriptProperties, 1, true);
$limit = $scriptProperties[\'limit\'] = $modx->getOption(\'limit\', $scriptProperties, 10, true);
$class = $scriptProperties[\'class\'] = $modx->getOption(\'class\', $scriptProperties, \'msopModification\', true);

$oid = $scriptProperties[\'oid\'] = $modx->getOption(\'oid\', $scriptProperties);
$byOptions = $scriptProperties[\'byOptions\'] = $modx->getOption(\'byOptions\', $scriptProperties, \'{}\', true);
$strict = $scriptProperties[\'strict\'] = (bool)$modx->getOption(\'strict\', $scriptProperties,
    $msoptionsprice->getOption(\'search_modification_strict\', null, false, true), true);
$excludeType = $scriptProperties[\'excludeType\'] = $modx->getOption(\'excludeType\', $scriptProperties, \'0\', true);
$processOptions = $scriptProperties[\'processOptions\'] = (bool)$modx->getOption(\'processOptions\', $scriptProperties, 0,
    true);

$outputSeparator = $scriptProperties[\'outputSeparator\'] = $modx->getOption(\'outputSeparator\', $scriptProperties, "\\n",
    true);

$classGallery = trim($msoptionsprice->getOption(\'modification_gallery_class\', null,
    \'msProductFile\', true));

// Add user parameters
foreach (array(\'byOptions\') as $k) {
    if (!empty($scriptProperties[$k])) {
        $tmp = $scriptProperties[$k];
        if (!is_array($tmp)) {
            $tmp = json_decode($tmp, true);
        }
        ${$k} = $scriptProperties[$k] = $tmp;
    }
}

$msoptionsprice->initialize($modx->context->key, $scriptProperties);

/** @var msProduct $product */
$product = $modx->getObject(\'msProduct\', $product);
if (!$product OR !($product instanceof msProduct)) {
    return "[msOptionsPrice] The resource with id = {$product->id} is not instance of msProduct.";
}
$price = $product->get(\'price\');
$oldPrice = $product->get(\'old_price\');

$type = $msoptionsprice->explodeAndClean($type);
$excludeType = array_merge(array(0), $msoptionsprice->explodeAndClean($excludeType));

$where = array(
    "{$class}.rid"     => $product->id,
    "{$class}.type:IN" => $type,
    "{$class}.active"  => true,
);
if (empty($showZeroPrice)) {
    $where["{$class}.price:>"] = 0;
}

$groupby = array(
    "{$class}.id",
);
$leftJoin = array(
    "msProduct"     => array(
        "class" => "msProduct",
        "on"    => "msProduct.id = {$class}.rid",
    ),
    "msProductData" => array(
        "class" => "msProductData",
        "on"    => "msProductData.id = {$class}.rid",
    ),
    "msVendor"      => array(
        "class" => "msVendor",
        "on"    => "msProductData.vendor = msVendor.id",
    ),
    "Option"        => array(
        "class" => "msopModificationOption",
        "on"    => "Option.mid = {$class}.id",
    ),
);
$innerJoin = array();
$select = array(
    $class          => $modx->getSelectColumns($class, $class),
    \'msProduct\'     => $modx->getSelectColumns(\'msProduct\', \'msProduct\', \'product_\'),
    \'msProductData\' => $modx->getSelectColumns(\'msProductData\', \'msProductData\', \'data_\'),
    \'msVendor\'      => $modx->getSelectColumns(\'msVendor\', \'msVendor\', \'vendor_\'),
);


/* TODO */
// Include thumbnails
if (!empty($includeThumbs)) {
    $thumbs = $msoptionsprice->explodeAndClean($includeThumbs);
}

foreach (array(\'where\', \'leftJoin\', \'innerJoin\', \'select\', \'groupby\') as $v) {
    if (!empty($scriptProperties[$v])) {
        $tmp = $scriptProperties[$v];
        if (!is_array($tmp)) {
            $tmp = json_decode($tmp, true);
        }
        if (is_array($tmp)) {
            $$v = array_merge($$v, $tmp);
        }
    }
    unset($scriptProperties[$v]);
}
$pdoFetch->addTime(\'Conditions prepared\');

if (!empty($byOptions)) {
    $oid = 0;
    if ($modification = $msoptionsprice->getModificationByOptions(
        $product->id,
        $byOptions,
        $strict,
        array(0),
        array_diff($excludeType, $type)
    )
    ) {
        $oid = $modification[\'id\'];
    }
}

if (!is_null($oid)) {
    $where["{$class}.id"] = (int)$oid;
}

$default = array(
    \'class\'             => $class,
    \'where\'             => $where,
    \'leftJoin\'          => $leftJoin,
    \'innerJoin\'         => $innerJoin,
    \'select\'            => $select,
    \'sortby\'            => "CAST({$class}.price AS DECIMAL(10,2))",
    \'sortdir\'           => \'ASC\',
    \'groupby\'           => implode(\', \', $groupby),
    \'return\'            => !empty($returnIds) ? \'ids\' : \'data\',
    \'nestedChunkPrefix\' => \'minishop2_\',
);

// Merge all properties and run!
$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);
$rows = $pdoFetch->run();

// Process rows
$output = array();
if (!empty($rows) AND is_array($rows)) {
    $idx = $pdoFetch->idx;
    foreach ($rows as $k => $row) {
        /** @var msopModification $m */
        if (!$m = $modx->getObject(\'msopModification\', (int)$row[\'id\'])) {
            continue;
        }
        $row[\'idx\'] = $idx++;

        $options = $modx->call(\'msopModificationOption\', \'getOptions\',
            array(&$modx, $row[\'id\'], $row[\'rid\'], null, $processOptions));
        $row = array_merge($row, array(\'options\' => $options));

        $row[\'modification\'] = $row;
        $row[\'price\'] = $msoptionsprice->getCostByType($row[\'type\'], $row[\'price\'], $price);
        $row[\'old_price\'] = $msoptionsprice->getOldCostByModification($row[\'modification\']);

        $row[\'price\'] = $msoptionsprice->miniShop2->formatPrice($row[\'price\']);
        $row[\'old_price\'] = $msoptionsprice->miniShop2->formatPrice($row[\'old_price\']);
        $row[\'weight\'] = $msoptionsprice->miniShop2->formatWeight($row[\'weight\']);

        // process modification thumbs
        $row[\'thumbs\'] = null;
        if (!empty($thumbs)) {
            $images = $m->loadThumbs($thumbs);
            if (empty($images)) {
                $images = $m->loadThumb($thumbs);
            }
            foreach ($thumbs as $thumb) {
                if (!empty($images[$thumb][0])) {
                    $row[$thumb] = $images[$thumb][0];
                }
            }
            $row[\'thumbs\'] = $images;
        }

        $output[] = $pdoFetch->getChunk($tpl, $row);
        $rows[$k] = $row;
    }

}

if ($scriptProperties[\'return\'] == \'data\') {
    return $rows;
}

$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') AND !empty($showLog)) {
    $log .= \'<pre class="msOptionsPriceLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}
// Return output
if (!empty($returnIds) AND is_string($rows)) {
    $modx->setPlaceholder(\'msOptionsPrice.log\', $log);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $rows);
    } else {
        return $rows;
    }
} else {
    $output = implode($outputSeparator, $output) . $log;
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
}',
    ),
  ),
  '428ac05edd69293c2be3ebabb230a2c8' => 
  array (
    'criteria' => 
    array (
      'name' => 'msOptionsPrice.option',
    ),
    'object' => 
    array (
      'id' => 44,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'msOptionsPrice.option',
      'description' => '',
      'editor_type' => 0,
      'category' => 6,
      'cache_type' => 0,
      'snippet' => '$classModification = \'msopModification\';
$classOption = \'msopModificationOption\';

if (!function_exists(\'getModificationOptions\')) {
    function getModificationOptions(modX & $modx, $rid = null, $showZeroCount = true)
    {
        $options = [];

        $classModification = \'msopModification\';
        $classOption = \'msopModificationOption\';
        $classMsOption = \'msOption\';

        $q = $modx->newQuery($classOption);
        $q->innerJoin($classModification, $classModification, "{$classModification}.id = {$classOption}.mid");
        $q->leftJoin($classMsOption, $classMsOption, "{$classOption}.key = {$classMsOption}.key");

        $q->select($modx->getSelectColumns($classOption, $classOption));
        $q->select($modx->getSelectColumns($classMsOption, $classMsOption, \'\', [\'caption\'], false));

        $q->where([
            "{$classOption}.rid"          => "{$rid}",
            "{$classModification}.active" => true,
        ]);
        if (!$showZeroCount) {
            $q->andCondition([
                "{$classModification}.count:>" => 0,
            ]);
        }

        if ($q->prepare() AND $q->stmt->execute()) {
            while ($row = $q->stmt->fetch(PDO::FETCH_ASSOC)) {
                $k = $row[\'key\'];
                if (!isset($options[$k])) {
                    $options[$k] = [$row[\'value\']];
                } else {
                    $options[$k][] = $row[\'value\'];
                }

                foreach ($row as $x => $value) {
                    $options[$k . \'.\' . $x] = $value;
                }
            }
        }

        return $options;
    }
}

if (!function_exists(\'getOptionColors\')) {
    function getOptionColors(modX & $modx, $rid = null, $key = null)
    {
        $colors = [];

        $classColor = \'msocColor\';
        $q = $modx->newQuery($classColor);
        $q->where([
            "{$classColor}.rid" => "{$rid}",
            "{$classColor}.key" => "{$key}",
        ]);
        $q->andCondition([
            "{$classColor}.color:!="       => "",
            "OR:{$classColor}.color2:!="   => "",
            "OR:{$classColor}.pattern:!="  => "",
            "OR:{$classColor}.pattern2:!=" => "",
        ]);

        $q->select($modx->getSelectColumns($classColor, $classColor, \'\', [\'rid\', \'key\'], true));
        if ($q->prepare() AND $q->stmt->execute()) {
            while ($row = $q->stmt->fetch(PDO::FETCH_ASSOC)) {
                $k = $row[\'value\'];
                $colors[$k] = $row;
            }
        }

        return $colors;
    }
}

/** @var modX $modx */
/** @var array $scriptProperties */
$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'tpl.msOptions\');
$showZeroCount = (bool)$modx->getOption(\'showZeroCount\', $scriptProperties, true);
$showProductOptions = (bool)$modx->getOption(\'showProductOptions\', $scriptProperties, false);
$processColors = (bool)$modx->getOption(\'processColors\', $scriptProperties, false);

if (!empty($input) && empty($product)) {
    $product = $input;
}
if (!empty($name) && empty($options)) {
    $options = $name;
}
$names = array_map(\'trim\', explode(\',\', $options));
$names = array_diff($names, [\'\']);

$product = !empty($product) && $product != $modx->resource->id
    ? $modx->getObject(\'msProduct\', $product)
    : $modx->resource;
if (!($product instanceof msProduct)) {
    return "[msOptions] The resource with id = {$product->id} is not instance of msProduct.";
}
$modx->lexicon->load(\'minishop2:product\');

$constraints = $modx->getOption(\'constraintOptions\', $scriptProperties);
if ($constraints AND !is_array($constraints)) {
    $constraints = json_decode($constraints, true);
}

$data = $productData = getModificationOptions($modx, $product->id, $showZeroCount);
if ($showProductOptions) {
    $productData = $product->loadOptions();
}

$options = $captions = $relations = $colors = [];
foreach ($names as $name) {
    $option = $modx->getOption($name, $data);
    if (!$option AND $showProductOptions) {
        $option = $modx->getOption($name, $productData);
    }
    if ($option) {
        $option = array_unique($option);
        sort($option);
        $options[$name] = $option;

        // process captions
        if (isset($data[$name . \'.caption\'])) {
            $captions[$name] = $data[$name . \'.caption\'];
        } else {
            $captions[$name] = $modx->lexicon(\'ms2_product_\' . $name);
        }

        // process relations
        if (!empty($constraints) AND array_key_exists($name, $constraints)) {
            $relations[$name] = [];

            $q = $modx->newQuery($classOption);
            $q->innerJoin($classModification, $classModification, "{$classModification}.id = {$classOption}.mid");
            $q->leftJoin($classOption, \'Values\', "{$classOption}.mid = Values.mid");
            $q->where([
                "{$classOption}.rid"          => "{$product->id}",
                "{$classOption}.key"          => "{$name}",
                "{$classModification}.active" => true,
            ]);
            if (!$showZeroCount) {
                $q->andCondition([
                    "{$classModification}.count:>" => 0,
                ]);
            }

            $q->limit(0);
            $q->sortby("{$classOption}.key", "ASC");
            $q->groupby("{$classOption}.mid");
            $q->select("{$classOption}.value, GROUP_CONCAT(CONCAT_WS(\'=\',`Values`.`key`,`Values`.`value`) SEPARATOR \'&\') as value");

            $rows = [];
            if ($q->prepare() && $q->stmt->execute()) {
                if (!$rows = $q->stmt->fetchAll(PDO::FETCH_COLUMN | PDO::FETCH_GROUP)) {
                    $rows = [];
                }
                foreach ($rows as $key => &$row) {
                    foreach ($row as $k => $v) {
                        parse_str($v, $row[$k]);
                        ksort($row[$k]);
                        unset($row[$k][$name]);

                        $v = [];
                        foreach ($row[$k] as $param => $value) {
                            $v[] = "{$param}={$value}";
                        }
                        $row[$k] = implode(\'&\', $v);
                    }
                }
                $relations[$name] = $rows;
            }
        }

        // process colors
        if ($processColors) {
            $colors[$name] = getOptionColors($modx, $product->id, $name);
        }
    }
}

if (!empty($scriptProperties[\'sortOptions\'])) {
    $sorts = array_map(\'trim\', explode(\',\', $scriptProperties[\'sortOptions\']));
    foreach ($sorts as $sort) {
        $sort = explode(\':\', $sort);
        $key = $sort[0];
        $order = SORT_ASC;
        if (!empty($sort[1])) {
            $order = constant($sort[1]);
        }
        $type = SORT_STRING;
        if (!empty($sort[2])) {
            $type = constant($sort[2]);
        }

        $first = null;
        if (!empty($sort[3])) {
            $first = $sort[3];
        }

        if (array_key_exists($key, $options) AND is_array($options[$key]) AND !empty($options[$key])) {

            if ($type) {
                array_multisort($options[$key], $order, $type);
            } /* @var modSnippet $script */
            elseif (!empty($sort[2]) AND $script = $modx->getObject(\'modSnippet\', [\'name\' => $sort[2]])) {
                $script->_cacheable = false;
                $script->_processed = false;
                if ($values = $script->process([\'key\' => $key, \'values\' => $options[$key], \'order\' => $order])) {
                    $options[$key] = $values;
                }
            }

            if ($first && ($index = array_search($first, $options[$key])) !== false) {
                unset($options[$key][$index]);
                array_unshift($options[$key], $first);
            }
        }
    }
}

/** @var pdoTools $pdoTools */
$pdoTools = $modx->getService(\'pdoTools\');

return $pdoTools->getChunk($tpl, [
    \'product\'     => isset($product) ? $product->toArray() : [],
    \'options\'     => $options,
    \'captions\'    => $captions,
    \'relations\'   => $relations,
    \'constraints\' => $constraints,
    \'colors\'      => $colors,
]);',
      'locked' => 0,
      'properties' => 'a:6:{s:7:"product";a:7:{s:4:"name";s:7:"product";s:4:"desc";s:27:"msoptionsprice_prop_product";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:7:"options";a:7:{s:4:"name";s:7:"options";s:4:"desc";s:27:"msoptionsprice_prop_options";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:11:"sortOptions";a:7:{s:4:"name";s:11:"sortOptions";s:4:"desc";s:31:"msoptionsprice_prop_sortOptions";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:13:"showZeroCount";a:7:{s:4:"name";s:13:"showZeroCount";s:4:"desc";s:33:"msoptionsprice_prop_showZeroCount";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:13:"processColors";a:7:{s:4:"name";s:13:"processColors";s:4:"desc";s:33:"msoptionsprice_prop_processColors";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}s:3:"tpl";a:7:{s:4:"name";s:3:"tpl";s:4:"desc";s:23:"msoptionsprice_prop_tpl";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:13:"tpl.msOptions";s:7:"lexicon";s:25:"msoptionsprice:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msoptionsprice/elements/snippets/snippet.option.php',
      'content' => '$classModification = \'msopModification\';
$classOption = \'msopModificationOption\';

if (!function_exists(\'getModificationOptions\')) {
    function getModificationOptions(modX & $modx, $rid = null, $showZeroCount = true)
    {
        $options = [];

        $classModification = \'msopModification\';
        $classOption = \'msopModificationOption\';
        $classMsOption = \'msOption\';

        $q = $modx->newQuery($classOption);
        $q->innerJoin($classModification, $classModification, "{$classModification}.id = {$classOption}.mid");
        $q->leftJoin($classMsOption, $classMsOption, "{$classOption}.key = {$classMsOption}.key");

        $q->select($modx->getSelectColumns($classOption, $classOption));
        $q->select($modx->getSelectColumns($classMsOption, $classMsOption, \'\', [\'caption\'], false));

        $q->where([
            "{$classOption}.rid"          => "{$rid}",
            "{$classModification}.active" => true,
        ]);
        if (!$showZeroCount) {
            $q->andCondition([
                "{$classModification}.count:>" => 0,
            ]);
        }

        if ($q->prepare() AND $q->stmt->execute()) {
            while ($row = $q->stmt->fetch(PDO::FETCH_ASSOC)) {
                $k = $row[\'key\'];
                if (!isset($options[$k])) {
                    $options[$k] = [$row[\'value\']];
                } else {
                    $options[$k][] = $row[\'value\'];
                }

                foreach ($row as $x => $value) {
                    $options[$k . \'.\' . $x] = $value;
                }
            }
        }

        return $options;
    }
}

if (!function_exists(\'getOptionColors\')) {
    function getOptionColors(modX & $modx, $rid = null, $key = null)
    {
        $colors = [];

        $classColor = \'msocColor\';
        $q = $modx->newQuery($classColor);
        $q->where([
            "{$classColor}.rid" => "{$rid}",
            "{$classColor}.key" => "{$key}",
        ]);
        $q->andCondition([
            "{$classColor}.color:!="       => "",
            "OR:{$classColor}.color2:!="   => "",
            "OR:{$classColor}.pattern:!="  => "",
            "OR:{$classColor}.pattern2:!=" => "",
        ]);

        $q->select($modx->getSelectColumns($classColor, $classColor, \'\', [\'rid\', \'key\'], true));
        if ($q->prepare() AND $q->stmt->execute()) {
            while ($row = $q->stmt->fetch(PDO::FETCH_ASSOC)) {
                $k = $row[\'value\'];
                $colors[$k] = $row;
            }
        }

        return $colors;
    }
}

/** @var modX $modx */
/** @var array $scriptProperties */
$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'tpl.msOptions\');
$showZeroCount = (bool)$modx->getOption(\'showZeroCount\', $scriptProperties, true);
$showProductOptions = (bool)$modx->getOption(\'showProductOptions\', $scriptProperties, false);
$processColors = (bool)$modx->getOption(\'processColors\', $scriptProperties, false);

if (!empty($input) && empty($product)) {
    $product = $input;
}
if (!empty($name) && empty($options)) {
    $options = $name;
}
$names = array_map(\'trim\', explode(\',\', $options));
$names = array_diff($names, [\'\']);

$product = !empty($product) && $product != $modx->resource->id
    ? $modx->getObject(\'msProduct\', $product)
    : $modx->resource;
if (!($product instanceof msProduct)) {
    return "[msOptions] The resource with id = {$product->id} is not instance of msProduct.";
}
$modx->lexicon->load(\'minishop2:product\');

$constraints = $modx->getOption(\'constraintOptions\', $scriptProperties);
if ($constraints AND !is_array($constraints)) {
    $constraints = json_decode($constraints, true);
}

$data = $productData = getModificationOptions($modx, $product->id, $showZeroCount);
if ($showProductOptions) {
    $productData = $product->loadOptions();
}

$options = $captions = $relations = $colors = [];
foreach ($names as $name) {
    $option = $modx->getOption($name, $data);
    if (!$option AND $showProductOptions) {
        $option = $modx->getOption($name, $productData);
    }
    if ($option) {
        $option = array_unique($option);
        sort($option);
        $options[$name] = $option;

        // process captions
        if (isset($data[$name . \'.caption\'])) {
            $captions[$name] = $data[$name . \'.caption\'];
        } else {
            $captions[$name] = $modx->lexicon(\'ms2_product_\' . $name);
        }

        // process relations
        if (!empty($constraints) AND array_key_exists($name, $constraints)) {
            $relations[$name] = [];

            $q = $modx->newQuery($classOption);
            $q->innerJoin($classModification, $classModification, "{$classModification}.id = {$classOption}.mid");
            $q->leftJoin($classOption, \'Values\', "{$classOption}.mid = Values.mid");
            $q->where([
                "{$classOption}.rid"          => "{$product->id}",
                "{$classOption}.key"          => "{$name}",
                "{$classModification}.active" => true,
            ]);
            if (!$showZeroCount) {
                $q->andCondition([
                    "{$classModification}.count:>" => 0,
                ]);
            }

            $q->limit(0);
            $q->sortby("{$classOption}.key", "ASC");
            $q->groupby("{$classOption}.mid");
            $q->select("{$classOption}.value, GROUP_CONCAT(CONCAT_WS(\'=\',`Values`.`key`,`Values`.`value`) SEPARATOR \'&\') as value");

            $rows = [];
            if ($q->prepare() && $q->stmt->execute()) {
                if (!$rows = $q->stmt->fetchAll(PDO::FETCH_COLUMN | PDO::FETCH_GROUP)) {
                    $rows = [];
                }
                foreach ($rows as $key => &$row) {
                    foreach ($row as $k => $v) {
                        parse_str($v, $row[$k]);
                        ksort($row[$k]);
                        unset($row[$k][$name]);

                        $v = [];
                        foreach ($row[$k] as $param => $value) {
                            $v[] = "{$param}={$value}";
                        }
                        $row[$k] = implode(\'&\', $v);
                    }
                }
                $relations[$name] = $rows;
            }
        }

        // process colors
        if ($processColors) {
            $colors[$name] = getOptionColors($modx, $product->id, $name);
        }
    }
}

if (!empty($scriptProperties[\'sortOptions\'])) {
    $sorts = array_map(\'trim\', explode(\',\', $scriptProperties[\'sortOptions\']));
    foreach ($sorts as $sort) {
        $sort = explode(\':\', $sort);
        $key = $sort[0];
        $order = SORT_ASC;
        if (!empty($sort[1])) {
            $order = constant($sort[1]);
        }
        $type = SORT_STRING;
        if (!empty($sort[2])) {
            $type = constant($sort[2]);
        }

        $first = null;
        if (!empty($sort[3])) {
            $first = $sort[3];
        }

        if (array_key_exists($key, $options) AND is_array($options[$key]) AND !empty($options[$key])) {

            if ($type) {
                array_multisort($options[$key], $order, $type);
            } /* @var modSnippet $script */
            elseif (!empty($sort[2]) AND $script = $modx->getObject(\'modSnippet\', [\'name\' => $sort[2]])) {
                $script->_cacheable = false;
                $script->_processed = false;
                if ($values = $script->process([\'key\' => $key, \'values\' => $options[$key], \'order\' => $order])) {
                    $options[$key] = $values;
                }
            }

            if ($first && ($index = array_search($first, $options[$key])) !== false) {
                unset($options[$key][$index]);
                array_unshift($options[$key], $first);
            }
        }
    }
}

/** @var pdoTools $pdoTools */
$pdoTools = $modx->getService(\'pdoTools\');

return $pdoTools->getChunk($tpl, [
    \'product\'     => isset($product) ? $product->toArray() : [],
    \'options\'     => $options,
    \'captions\'    => $captions,
    \'relations\'   => $relations,
    \'constraints\' => $constraints,
    \'colors\'      => $colors,
]);',
    ),
  ),
  'c61f382ee102ea51fce330f1e47b4e39' => 
  array (
    'criteria' => 
    array (
      'name' => 'msOptionsPrice',
    ),
    'object' => 
    array (
      'id' => 7,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'msOptionsPrice',
      'description' => '',
      'editor_type' => 0,
      'category' => 6,
      'cache_type' => 0,
      'plugincode' => '/** @var array $scriptProperties */
/** @var msoptionsprice $msoptionsprice */

$fqn = $modx->getOption(\'msoptionsprice_class\', null, \'msoptionsprice.msoptionsprice\', true);
$path = $modx->getOption(\'msoptionsprice_core_path\', null,
    $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/msoptionsprice/\');
if (!$msoptionsprice = $modx->getService($fqn, \'\', $path . \'model/\',
    array(\'core_path\' => $path))
) {
    return false;
}

$className = \'msOptionsPrice\' . $modx->event->name;
$modx->loadClass(\'msOptionsPricePlugin\', $msoptionsprice->getOption(\'modelPath\') . \'msoptionsprice/systems/\', true,
    true);
$modx->loadClass($className, $msoptionsprice->getOption(\'modelPath\') . \'msoptionsprice/systems/\', true, true);
if (class_exists($className)) {
    /** @var msOptionsPricePlugin $handler */
    $handler = new $className($modx, $scriptProperties);
    $handler->run();
}
return;',
      'locked' => 0,
      'properties' => NULL,
      'disabled' => 0,
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msoptionsprice/elements/plugins/plugin.msoptionsprice.php',
      'content' => '/** @var array $scriptProperties */
/** @var msoptionsprice $msoptionsprice */

$fqn = $modx->getOption(\'msoptionsprice_class\', null, \'msoptionsprice.msoptionsprice\', true);
$path = $modx->getOption(\'msoptionsprice_core_path\', null,
    $modx->getOption(\'core_path\', null, MODX_CORE_PATH) . \'components/msoptionsprice/\');
if (!$msoptionsprice = $modx->getService($fqn, \'\', $path . \'model/\',
    array(\'core_path\' => $path))
) {
    return false;
}

$className = \'msOptionsPrice\' . $modx->event->name;
$modx->loadClass(\'msOptionsPricePlugin\', $msoptionsprice->getOption(\'modelPath\') . \'msoptionsprice/systems/\', true,
    true);
$modx->loadClass($className, $msoptionsprice->getOption(\'modelPath\') . \'msoptionsprice/systems/\', true, true);
if (class_exists($className)) {
    /** @var msOptionsPricePlugin $handler */
    $handler = new $className($modx, $scriptProperties);
    $handler->run();
}
return;',
    ),
  ),
  '887e9e63a9b9ebf70d0a8561a77182e9' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'OnDocFormPrerender',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'OnDocFormPrerender',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '258914809f41f1328a76ffdde43b252d' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'OnDocFormSave',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'OnDocFormSave',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  'f5621baad71e9d059142d9a2f68281ab' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'OnResourceDuplicate',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'OnResourceDuplicate',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '4627df6cbf9b0ba5329d48dfb6e83f43' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'OnEmptyTrash',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'OnEmptyTrash',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '5d1ef55ff32b1ecae75e38b2a6549123' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnGetProductPrice',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnGetProductPrice',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '622b43772518a21653f19b52253e0fe4' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnGetProductWeight',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnGetProductWeight',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  'fd6a4d34fbbf38173025ce08e4958b8b' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeAddToCart',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeAddToCart',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  'cf65026b26d44294be8183545004d0c4' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeChangeInCart',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeChangeInCart',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  'd0cb3d3bfcb3f769682ffb786ce30b6e' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnChangeOrderStatus',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnChangeOrderStatus',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '6f2d9e7d70eb57488ec807952b3db1b0' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeCreateOrderProduct',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeCreateOrderProduct',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '9f6f30cf37133688224f59bee82cbc20' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeRemoveOrderProduct',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeRemoveOrderProduct',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '42017ef69f53912c768e3881dfdbf607' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeUpdateOrderProduct',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnBeforeUpdateOrderProduct',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '6bd374b59637fefd4812f13d6eace680' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnSaveOrder',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnSaveOrder',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '269532aae51b37b3048b9e75020e3dad' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnRemoveOrder',
    ),
    'object' => 
    array (
      'pluginid' => 7,
      'event' => 'msOnRemoveOrder',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
  '781f6fb14e53711d4dcb318413291dd7' => 
  array (
    'criteria' => 
    array (
      'name' => 'msOptionsPriceOnInit',
    ),
    'object' => 
    array (
      'id' => 8,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'msOptionsPriceOnInit',
      'description' => '',
      'editor_type' => 0,
      'category' => 6,
      'cache_type' => 0,
      'plugincode' => 'if ($modx->event->name != \'OnMODXInit\') {
    return;
}

$classGallery = trim($this->xpdo->getOption(\'msoptionsprice_modification_gallery_class\', null,
    \'msProductFile\', true));

if (!empty($classGallery)) {
    $modx->loadClass($classGallery);
    $modx->map[$classGallery][\'composites\'][\'modificationImages\'] = array(
        \'class\'       => \'msopModificationImage\',
        \'local\'       => \'id\',
        \'foreign\'     => \'image\',
        \'cardinality\' => \'many\',
        \'owner\'       => \'local\',
    );
}',
      'locked' => 0,
      'properties' => NULL,
      'disabled' => 0,
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msoptionsprice/elements/plugins/plugin.init.php',
      'content' => 'if ($modx->event->name != \'OnMODXInit\') {
    return;
}

$classGallery = trim($this->xpdo->getOption(\'msoptionsprice_modification_gallery_class\', null,
    \'msProductFile\', true));

if (!empty($classGallery)) {
    $modx->loadClass($classGallery);
    $modx->map[$classGallery][\'composites\'][\'modificationImages\'] = array(
        \'class\'       => \'msopModificationImage\',
        \'local\'       => \'id\',
        \'foreign\'     => \'image\',
        \'cardinality\' => \'many\',
        \'owner\'       => \'local\',
    );
}',
    ),
  ),
  '6e84637ebc98d3e247566f7216d155bc' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 8,
      'event' => 'OnMODXInit',
    ),
    'object' => 
    array (
      'pluginid' => 8,
      'event' => 'OnMODXInit',
      'priority' => 10,
      'propertyset' => 0,
    ),
  ),
);